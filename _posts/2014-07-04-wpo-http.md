---
layout: post
title: HTTP 2.0
categories: http
---

HTTP 2.0 可以让我们的应用更快、更简单，更健壮。HTTP 2.0的目的是通过支持请求与响应的多了复用来减少延迟，通过压缩HTTP的首部字段将协议开销降至最低，同时增加对请求优先级和服务端推送的支持。

HTTP 2.0 通过首部字段压缩和在同一连接上发送多个并发消息，让应用可以更有效的利用网络资源，减少感知的延迟事件。而且，它还支持服务器到客户端的主动推送机制。

###二进制分帧层

HTTP 2.0性能增强的核心，全在于新增的二进制分帧层，它定义了如何封装HTTP消息并在客户端和服务器之前传输。

必须要理解流、消息和帧这几个基本概念：

* 所有通信都在一个TCP连接上完成
* 流是连接中的一个虚拟信道，可以承载双向的信息；每个流都有一个唯一的整数标识符。
* 消息是值逻辑上的HTTP消息，比如请求，响应等，由一个或多个帧组成
* 帧是最小的通信单位，承载着特定类型的数据，比如HTTP首部，负荷，等等

HTTP 2.0把HTTP协议通信的基本单位缩小为一个一个的帧，这些帧对应逻辑流中的消息。相应的，很多流可以并行的在同一个TCP链接上交换消息。


* 可以并行交错发送请求(响应），请求(响应）之间互不影响
* 只使用一个连接即可并行发送多个请求和响应
* 消除不必要的延迟，从而减少页面加载的时间
* 不必再为绕过HTTP 1.X限制而多做很多工作

###服务器推送
HTTP 2.0新增的一个功能，就是服务器可以对一个客户端请求发送多个响应。换句话说，除了对最初请求的响应外，服务器可以额外向客户端推送资源，而无需客户端明确的请求。
