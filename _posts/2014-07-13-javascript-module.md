---
layout: post
title: Javascript模块化
categories: javascript
---

模块化的组织js代码，已经是当前工作的必须了，但为什么要模块化，模块化要解决的什么问题，还没有好好整理过。今天有看了一些文章，整理一下。

###什么是模块化

模块化是指高度解耦的存储在模块里的功能。通过去掉可能的依赖的低耦合使代码非常容易维护。

###模块化解决什么问题

1、颗粒化模块管理

将我们可能数千行的业务逻辑代码按照页面的结构或功能模块化划分，毫无疑问，为我们管理代码带来了极大的便利，页面某一区域功能的升级和更新变得非常简单。

2、异步加载模块，减少初始化加载JS的文件大小，实现按需加载

在模块化之前，我们会把页面所有的业务逻辑，事件响应都写到一个文件(多个文件)，而某些功能用户可能根本不会用到。使用模块化加载之后，我们可以在加载一个入口文件，只加载页面必须的最少代码，其余的功能代码按需加载，可以大幅度减少首次加载的js文件，提供用户体验

3、无阻塞加载

浏览器加载执行脚本，会引起页面的渲染被暂停，甚至还会阻塞其他资源(比如图片)的加载。按照YUI的性能优化原则，为了更快的给用户呈现网页内容，更好的用户体验，应该把脚本放在页面底部，使之最后加载。而通过将js文件异步加载，也达到了效果。

4、代码重用和文件依赖

页面的某些功能往往都会依赖其他功能，以前，我们需要保证在调用某个功能之前确保引入了相关的脚步文件，这在一些小项目或者问题不大，但在复杂的项目里，一个功能或许依赖好多个其它的基础功能，维护起来就是个灾难了。使用模块化开发可以很好的解决代码重用和文件依赖的问题，我们只需关注调用代码，依赖的部分可以完全交给框架处理。


目前，抒写模块快的js代码有3中规范，AMD, CommonJS和下一版js推荐的：Harmony

http://addyosmani.com/writing-modular-js/

http://qingbob.com/let-us-talk-about-resource-load/#

http://tagneto.blogspot.com/2011/04/on-inventing-js-module-formats-and.html